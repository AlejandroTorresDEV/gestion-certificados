<app-navbar></app-navbar>
<!--Formulario de ticket-->
<app-spinner *ngIf="loanding"></app-spinner>

<form *ngIf="!loanding" [formGroup]="registerForm" (ngSubmit)="createTicket()">
  <div class="form-group">
    <h4>Certificado Alias: [{{certificateModel.alias}}]</h4>
    <label>Cuenta Jira</label>
    <input type="text" formControlName="username" class="form-control"  [(ngModel)]="username" [ngClass]="{ 'is-invalid': submitted && getFormsControls().username.errors }"  [readonly]="true"/>
    <div *ngIf="submitted && getFormsControls().username.errors" class="invalid-feedback">
      <div *ngIf="getFormsControls().username.errors.required">Email is necesario</div>
    </div>
  </div>
  <div class="form-group">
    <label>Password Jira</label>
    <input type="password" formControlName="password" class="form-control" [ngClass]="{ 'is-invalid': submitted && getFormsControls().password.errors }" />
    <div *ngIf="submitted && getFormsControls().password.errors" class="invalid-feedback">
      <div *ngIf="getFormsControls().password.errors.required">Contraseña es necesaria</div>
    </div>
  </div>
  <div class="form-group">
    <button class="btn btn-primary">Crear Ticket</button>
  </div>
</form>

<!--Mensajes de información al usuario-->
<div *ngIf="!loanding">
  <app-show-messages *ngIf="loginJiraError" [mens]="mensaggeErrorLogin"></app-show-messages>
  <app-show-messages *ngIf="createTicketSucces" [mens]="mensaggeSuccesSave"></app-show-messages>
</div>